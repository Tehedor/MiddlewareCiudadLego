#!/bin/bash

# Verificar si la red existe
network_exists=$(docker network ls --filter name=^proxy-reverse-net$ --format "{{.Name}}")

if [ "$network_exists" == "proxy-reverse-net" ]; then
    echo "La red proxy-reverse-net ya existe. Elimin√°ndola..."
    docker network rm proxy-reverse-net
fi

# Comando para crear una red de Docker
echo "Creando la red proxy-reverse-net..."
docker network create --driver=bridge --subnet=172.18.2.0/24 proxy-reverse-net

# Conectar contenedores a la red
docker network connect proxy-reverse-net nginx-reverse
docker network connect proxy-reverse-net orion
docker network connect proxy-reverse-net draco

echo "Red y contenedores configurados correctamente."